# JS中的事件流

>事件流描述的是从页面中接收事件的顺序

DOM2级事件规定 事件流包括三个阶段:
    
    1. 事件捕获阶段

    2. 处于目标阶段

    3. 事件冒泡阶段

页面结构: 

    <html>
        <head></head>
        <body>
            <main>
                <button></button>
            </main>
        </body>
    </html>

## 事件捕获
>到达目标之前捕获

点击button之后的click顺序如下:

    1. document

    2. html

    3. body

    4. main

    5. button


## 事件冒泡
>从嵌套最深的那个节点逐级向上

点击button之后的click事件顺序如下:

    1. button

    2. main

    3. body

    4. html

    5. document

不支持冒泡的事件: 
    
    1. blue

    2. focus

    3. load

## 跨浏览器事件处理程序

    var handle = function(element,type,handler){
        //一般浏览器
        if(element.addEventListener){
            element.addEventListener(type, handler, false);
        }
        //IE浏览器
        else if(element.attachEvent){
            element.attachEvent('on'+type, handler);
        }
        else{
            element.onclick = handle;
        }
    }

## 事件委托
>事件委托利用了事件冒泡, 只指定一个事件处理程序, 管理多个事件

    <ul>
        <li>1</li>
        <li>2</li>
        <li>3</li>
        <li>4</li>
        <li>5</li>
    </ul>

    <script>
        ul.addEventListener('click',function(event){
            var event = event || window.event;
            var target = event.target || event.srcElement;

            if(target.nodeName.toLowerCase() === 'li'){
                alert(target.innerHTML);
            }
        })
    </script>